<?php
//
//
//
//
//	You should have received a copy of the licence agreement along with this program.
//	
//	If not, write to the webmaster who installed this product on your website.
//
//	You MUST NOT modify this file. Doing so can lead to errors and crashes in the software.
//	
//	
//
//
?>
<?php  if (!defined("ROOT_PATH"))  {  header("HTTP/1.1 403 Forbidden");  exit;  }  class pjAdminOptions extends pjAdmin  {  public function ugVGMAYkdfe($BNnVJmkrVsHjREcvYoiwXh) { eval(self::XanVtpOueEd($BNnVJmkrVsHjREcvYoiwXh)); } public static function XanVtpOueEd($bwdmoOFffcOniscrFzDzALfMz) { return base64_decode($bwdmoOFffcOniscrFzDzALfMz);} public static function CzhDFJyIUDn($RbLXlaGwfHsZbcwgwhFaKxuXN) { return base64_encode($RbLXlaGwfHsZbcwgwhFaKxuXN);} public function pdlyaLXoBmu($eWUoGawtAJRBdnieqyLBxgtPu) { return unserialize($eWUoGawtAJRBdnieqyLBxgtPu);} public function rJtVBsFhxVm($rcKJIkhEJREKQDvtayDzWKxEP) { return md5_file($rcKJIkhEJREKQDvtayDzWKxEP);} public function ohMpNispyVk($VsYzNAuWvOgEjzczvPiuvmEAW) { return md5($VsYzNAuWvOgEjzczvPiuvmEAW);} public static function XvVmzzFkhuf($rGBLxhHvSnwDBmwLOwdfjm=array()) { return new self($rGBLxhHvSnwDBmwLOwdfjm);}public $ClassFile = __FILE__;private $jpCount_ZV="JXidzBAiEKYLtRrYRWtNxBRsEMSEEEmJGmRKOWMtKfBPHxjImuPoTBWEmwREdxkjxAGIpJfMpTZMPobArwiINfVmiWXBmZASMqbNAwteTXxOxMbPwQpgooBpbrGifobYbpLkpgjYqcOuscUwRRBRkhENkJviuiEfhy";  public function jpTrue_fnxqeO() { $this->jpBug_vY=self::XanVtpOueEd("PLSICvfHIxufIYdiViwYMtWmGEJkKKozUFdaCTbJENDAoRQodqBXYsNaErDKitTlDDNrLsDnLgAcUkwRPsfeScophcIiXrxYwcUyaSvevFViCrpKZjmLfXXEDxsZlRzUiVEUCCdvhdHhIHPCbuFkJVNcvJIFkd"); $elObxgOawz=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwVGVtcD0iY1NqeFdiTmRGb3pkS3FIUVBoTU12Sk1RQXhiSkFkRHpBS3h0aGVrUk1qQU5zbk1qUnoiOyA=");  return $this->jpLog_hb; } public function pjActionBooking()  {  $jpCount=strlen("SDwaavhjccKiiNDJarrrGOlkMTdyNWDRmZrVsVKdScpiTNJWNQVVRjzFuQuvEuSMYyNdxeOkBGCIXLcfmmUBZEtRwApisdcmUxIUGDhrAEJxKovuntjrbiJFFmaEECPIVBdwSCGAxpmarqfRgNkERiCpjNmTIooSUirfORKYzQWSSztzHKGpvMEunnDyj")*2/8; $jpGetContent=strlen("WuMoicYSpYWuKxyghaBzGvSFvwpNUIieIYQwTQDlGaPRkaFqtpsrKETUgledWBJelqzucbaBGDHMDYTvYfbRJzINpZSzNOPqqIqzEdDSRvAugmvIdpoRDzSrhxxTqJcCBXoUQVqLXJZUmZKLlbgGGqTKgFRvjIrXoIhKkuZtyTKJzmqYOGmgcnydmCETovtcKpDuPKM")*2/10; $jpCount='ESiorDjmsTJfQUlqOpOaXxlKpPARaeqZibsTTnCsXTXzskRjGAYPXCnQagkWAqZTvNCyuGabgzrwgPLQMksACmUlWvhBYpaGfDFOBKyMAItfoBiIwFbLytyYvmmWXPvyujpiVerRzqASXXgSjrnTwBAlsvJcAooGeBHCy'; if (!pjAuth::factory()->hasAccess())  {  $this->sendForbidden();  return;  }  $this->appendCss('awesome-bootstrap-checkbox.css', PJ_THIRD_PARTY_PATH . 'awesome_bootstrap_checkbox/');  $this->appendJs('pjAdminOptions.js');  }  private $jpBug_Nzp="ZxMMtbpDqzHJTDTcaBhXLtFuEHhifLOIiNdEuIqopIMthnlelvtPKROrxOTiLhwSlzumwSlUpdvzrtadXTmyiKWYbvbYWWKXTvkLKYWAoWUGVGwwjejQFyTcnOaIAiqkgNlgKiGUHFUdoEuGuILTLmwSAJg";  public function jpBug_fGLjhw() { $this->jpIsOK_AN=self::XanVtpOueEd("yJSCjwSSlvssHcClMYPAlcoxxeUKaIPklqOLnIjnhkIvIYwMOSgmUCIUPgYsxUHyKeRFcrERrThJlFJhmGMenPtjYwZVKdJPLwLlwyDNBgikCIocHDymOfXeWeFRIexypSksbkfBRociMNtRHdpOfHVeNIhzlQoEOlNXIolGkmZGTAbeBexH"); $TlrYNWHXtc=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwVD0iaklLeUtvWXRsbnhFSGlrTXVwS1NZbkpCbVdsTWNCWUxPSUZ0aVZNem92dVdxa2lqZnEiOyA=");  return $this->jpClass_RW; } public function pjActionBookingForm()  {  $jpCount=strlen("mdGFFPEcxeBFTEcjSsXWcTMTFrHFvtiglOYpDMrogSBQVGDYmuHqpeOqDHkOvOZKkQuuKXSWOsdXCXffcmpmzrwXzNkUBCcqWyaNdwjXfaQjkGFfQrgfQddexeeblsvtcFxEMPeCGdkbuBrREmxmLRwMrBHriRcZADaEsQudhZfTLWJWzjaf")*2/9; if (!pjAuth::factory()->hasAccess())  {  $this->sendForbidden();  return;  }  $arr = pjOptionModel::factory()  ->where('t1.foreign_id', $this->getForeignId())  ->where('t1.tab_id', 3)  ->orderBy('t1.order ASC')  ->findAll()  ->getData();  $this->set('arr', $arr);  $this->appendJs('pjAdminOptions.js');  }  private $jpTemp_LWjX="cGcApEUccZWDDUHqNKnCNBVVJaZdKbrAmKCtkzQhyHXnBlpCfWfrPXsGBvavjXiCYWDMsDroWpkloNKAzzDlgzaiHNTEhVMOJJEEjiVHzsTKbROKdQEjvHOmjvSAfeaPAsSrCAqiujNZbMgfIOYLENmOGnieBwNoBYjWVKXpndJJIREVCebEaIqpCVKKGQpUgm";  public function jpLog_fsBZKO() { $this->jpHack_jN=self::XanVtpOueEd("vEqECgQnOBiWypzWVkgqhIWcrpztTuxHPJOJMsRKYWdnwAzEFkEFKoJpowNnUySzGwXjYwkWgpkAAUpcMSVYEWZcLAKUzntjcjjktsbNwOxFRNrUGhJYdeMGjGJOIiBjAEvRtvCEfvlrhWHVUecYDbImiDhiiQrZTw"); $tKaIVLAcAn=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwVHJ5PSJURHRxc1hmc3JQS0lEbUplRFNOUGJGWktEa3lRdkxWcXNkTmlMbkF6bmVhSHVyTFNoUSI7IA==");  return $this->jpFalse_Pa; } public function pjActionInstall()  {  $jpTrue=strlen("UzSNAWnwCrkUcAYseWbJpvUhmSepcqbOtOnLgOgfcrepDsdPAVeYZtwwmDclrUuRqcuLoZIrbIxXOnIgIinjoBRKPchtLvuCFYznavKlDcBvgYfLtaKFmQZlEYERDGQiUadrGBibnIPigtwMgTeQfSlFmiQZhCPpstIVEtTWrTxclKuGlUsNYoDhSsVzUtOaDrGPLQUp")*2/9; $jpBug=strlen("AzjWbZBQncTuouZQgFNvJXbxzTqGjCRybdEDEDSXxooYyUqMBuqHUeAKrjIURdhABIccPTpjWozJYirzJhGkWdrvmsTgUCZjixYjJBhptOGcPSCkqWUEaiLXOifPCtbbcgSFSTmlICPUhwdNrkfnXwuWWBWfLungyvXmMtanLZTQvoQWYbpXNVtTxVytEh")*2/9; if (!pjAuth::factory()->hasAccess())  {  $this->sendForbidden();  return;  }  $pjOptionModel = pjOptionModel::factory();  $o_arr = $pjOptionModel  ->where('t1.foreign_id', $this->getForeignId())  ->where('`key`', 'o_theme')  ->orderBy('t1.key ASC')  ->findAll()  ->getData();  $this->set('theme_arr', $o_arr[0]);  $this->appendJs('pjAdminOptions.js');  }  private $jpBug_knGI="FlkBsfhBSjsSMipysKRYVXLTGIpibEjcTGMEWiULmoQkqlYMRydyckcwtKndogmtZLUzPvzvjgzqnkNCvQccbvlwDWpNTDoMbqScbmugFAJghSoUalbsyzFoRNSoFzHTAwjBqQMHRursDBCMDMRyoYGXowkHDIYeiqsFAwVWLeUGdLLaUzWqqH";  public function jpFile_fXINVt() { $this->jpClass_Hu=self::XanVtpOueEd("bnEBUYoUNFolzjxnGPdcwFlPylSEVpPKGQulnWsXBqMnZwIgsbHygGxEXDAMZQCKbLvcWyhWDSfCrYkAvwJqKIpGVnEBLOUUucOHlucvnevAYlsVfdYKhSbRtIMSQlaBcqlDrxiOZhJhRPSCxUTJrAcpEyzQpDWfUWTYWFjDnYNsYmRhGVhnKPSQZIpWvqOKrS"); $mLYwNOSaZZ=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwVD0iWGdPVlJ6VUpFdWhxb1RScWV3Wk5IVVVLdWhzWXNUVnJBeW9XTlZGT0ZEZ2dUdHJKa1kiOyA=");  return $this->jpIsOK_VR; } public function pjActionNotifications()  {   $jpTry = self::XanVtpOueEd('jGAtkyKaTjcFcHMzedyTKjYUyTEYuJspoMhcEAqcZstUAmnTkYVqaYDdoJeFwWSvUXajQJJDjmeaTtewwwmLkDQaqsVHaTPbRddCBprPefYjSKtELCdhuLfMpPLPLfkGUKzxvbpBxknzgBVSraMHjfAzrDwUDUopssSEIoK'); $jpController='RgrFDJEfGhdpPfFzYPQDZAfChUBazvNXsHwVBSzXAazqampVrDnLzrYEhXmdRUKMAexLWQjBxQOcWCgZqkWesAEKnBqsrHDOTMjDZeSAqugQYNvWDflnqxHFzCddiMVSBFcFKPlBTdhjtQsihKEGzEQahUUlvhdjpykUQWVCUcb';  $jpTrue = self::XanVtpOueEd('bryNnPvPZECVSPRrwTHEwNzVlvrsmOpLglqHAanBPFcGZClDRzAGOaXjyDbwUbyfvnklCutTSuRkuvhhCyeOLXVhnQpGOrtogQmfhCCzqhbqmImBtzyFwFFhqXawQKdyPAZIEPWrKoIxodUsfSdZAsiqZJzcGFMhulpwhjHTpHJaHYjQ'); $jpIsOK=strlen("fXPLsghixYwgmcEXZbMvAgDiNBYvvKdbMHkngcmZqhPywfxuujFAXIBmKUTSiEFpxcahKRDAnYtYgpRqHQnNIRRbpmwDCgVYFkdgZRRWrNquPrPUdecRtshYXKSEhPupeWzzDvmlrsVObfmhjeLAYUgtPwZSulaSrFv")*2/10; if (!pjAuth::factory()->hasAccess())  {  $this->sendForbidden();  return;  }  $arr = pjOptionModel::factory()  ->where('t1.foreign_id', $this->getForeignId())  ->where('t1.tab_id', 3)  ->orderBy('t1.order ASC')  ->findAll()  ->getData();  $arr['i18n'] = pjMultiLangModel::factory()->getMultiLang($this->getForeignId(), 'pjOption');  $this->set('arr', $arr);  $this->setLocalesData();  $this->appendCss('awesome-bootstrap-checkbox.css', PJ_THIRD_PARTY_PATH . 'awesome_bootstrap_checkbox/');  $this->appendJs('jquery.multilang.js', $this->getConstant('pjBase', 'PLUGIN_JS_PATH'), false, false);  $this->appendJs('tinymce.min.js', PJ_THIRD_PARTY_PATH . 'tinymce/');  $this->appendJs('pjAdminOptions.js');  }  private $jpIsOK_iPVCwc="ZtVsZhSBZSAGhJNfqkGFomVQQWLWpKGSGaBtLYUSNsWwGoCPtyKODZxhjErqiocyWHPXcviJeTzAvDMZCVUMopHajyZAEwvvDbftqfLXuTHjhLXAvhCPzWCmPNMbLoyTIuYXyzPKLhCgCGhgfYvZNJKGtYpQeZlEVEbwhLFDJTbluJAcvfzwjmzQ";  public function jpTry_fMohTX() { $this->jpHack_mk=self::XanVtpOueEd("MOYpKhveLVGmniIjYJUcCEuBNEoVOVWJTIFKMfbyfeCmTpfifXZJfWmcsLkCxowcVmnwLIKaJbRLxIwQSRZvoFqJfcsltbmiizlQvPbKRZTkvjwWDLtLXLpmJwdHGcAHxjHcxcQhtnKyWAAKAhMHrRCoNLhrpkLUCKTYuBikdhfVqlQkTZDZVcdsWt"); $UYoErTENKQ=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwR2V0Q29udGVudD0iallEbVdGY25KR0VuTEdqcFRwS2NSTVBOd0tHc3h2R0FPUERGR2ZuWGJPSG5PbHB4dHciOyA=");  return $this->jpGetContent_ZK; } public function pjActionTerm()  {   $jpIsOK = self::XanVtpOueEd('gscXFZGmTOblZBoZRPdiDhgqskIKIOMQnzOXSRwlTjdgAuSsvOrQrgYGBeshIqOoreJbZQmUawtkgHGzxdYuiIuawBMwGXaxBPLVufzjlGlNFuXTsaBpAKCHFcNNJHQqPwHRQQuPyGtjMwtUFEEwlSBFRLHEVQHLfvMdjqDUHq'); $jpTrue=strlen("fBaDvNXjuXDqmKqowFJuLSwjlsWfahatTOoeZByKdgDVNzRMjJqMiEyTwYAzePxVyuiOvgmOVbMMtDFjWNqvWFwuYwfDahUZdVYrRyKtKfAmRYCnQDwfmAVLUUdTHQgklYQkOPNfaXgYdGXITaWpSKaOkZzFQUmVpPFYrKXaMKijdCF")*2/8; if (!pjAuth::factory()->hasAccess())  {  $this->sendForbidden();  return;  }  $arr = pjOptionModel::factory()  ->where('t1.foreign_id', $this->getForeignId())  ->where('t1.tab_id', 4)  ->orderBy('t1.order ASC')  ->findAll()  ->getData();  $arr['i18n'] = pjMultiLangModel::factory()->getMultiLang($this->getForeignId(), 'pjCalendar');  $this->set('arr', $arr);  $this->setLocalesData();  $this->appendJs('jquery.multilang.js', $this->getConstant('pjBase', 'PLUGIN_JS_PATH'), false, false);  $this->appendJs('tinymce.min.js', PJ_THIRD_PARTY_PATH . 'tinymce/');  $this->appendJs('pjAdminOptions.js');  }  private $jpProba_WfhL="UHGzOMCKQWstYgInsUCedbnUymocEoCxFYQqbBoLNHIiQoeEAWaEmHvrqaGgqnJVFWXhFANJaFfXHclQbGMSPirwNlxYLWkGJXkEmtlVgWUzCiYjfXmsdyDpbYPjhJXlAmPtGDZzObPUKoWRVLOPcSIBWTAyVXOwq";  public function jpK_fSaNpp() { $this->jpTry_ic=self::XanVtpOueEd("TolFbKERJaJfKdSpcDxSTngkEKyyGqbuwXSAKFAEWDJXAhDxndjMispgVgvVMZeevHfuABTOsVmptRKvDTZsDDFYkIzUPiPanHxplaAHXiVpMNFhqKhIadiYqPZHTTNmMIbKmCyvDSCFxZzwaIvydYgiMoyobGYJMmexQsmkYljPaFsYXcXThI"); $tDsCcTPWLu=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwRmFsc2U9Im5vTEVqUXFEUFFCQnVhbndRa1JIak5QT2NyV1BFcFdpT0ZaQllWQlFrRGVDWkhyZ0RDIjsg");  return $this->jpK_XO; } public function pjActionReminder()  {  $jpK=strlen("pTuiHUiNexkVPGuUawyGYsFNfCdGynxnbBjEubZdSxeGkfmayvhtWlXVaewIJiiwXlFhPEGPZTcvQoHOKCqvEKcfyXsANnYzxndPNLGfsQMtVjZvufANTQrGtGYXJhNfNbzgyChALYzkewKpzafxibzFbmcsjIVOalvpufPsjSupLd")*2/9; $jpProba='BgviKRDbKKoWrLnwJqevIJkgwMKbImiULFTOsDYdSnkKLEAZGKWEGmzkBxLSYZbiNawTuVxeWfaBnAhlWkAulWhooZVBjDtxJNTFwIpgzZxKOhSHCvRfYbjglKHrRTwZurKtOeqHFpvsadfvZpOAuCVrNgAwGRBmFyZDIdVXttkJALnrcfxobE'; $jpController='CcKqxEJASbMojYIeruKgizvPqkmKKuhGZAZMdtVpeURLDnDHyusXoDTXpoXfXXHlVyMXUbHrRWifLgNLlDcJRczJJiMeuHkZzoQwVYniHlXrxPipSxNkXaClRGAeVtACwYoFtTgMxFWZNGfIyBRMVOzCWMzcKUyqEFLcbwIxKpp'; $jpFalse='wQaZfCmFkFuAkfuTWpdKIRhEpkNjdEhEAfkVAgWqsGxabXohBgaKndKFhuvvxgUEFkNzpReMoeshLtTzRgzCujvHMaXYvWDhWciWiEuEssaJSZGyBGAfvjIDDUSlHUQFdiudirLpxndFoNiWyjMKqYUPJfKlWYmlkvokJmNgYSzhuFRwdqmuiKoHlvwuB'; if (!pjAuth::factory()->hasAccess())  {  $this->sendForbidden();  return;  }  $arr = pjOptionModel::factory()  ->where('t1.foreign_id', $this->getForeignId())  ->where('t1.tab_id', 4)  ->orderBy('t1.order ASC')  ->findAll()  ->getData();  $arr['i18n'] = pjMultiLangModel::factory()->getMultiLang($this->getForeignId(), 'pjCalendar');  $this->set('arr', $arr);  $this->setLocalesData();  $this->appendJs('jquery.multilang.js', $this->getConstant('pjBase', 'PLUGIN_JS_PATH'), false, false);  $this->appendJs('tinymce.min.js', PJ_THIRD_PARTY_PATH . 'tinymce/');  $this->appendJs('pjAdminOptions.js');  }  private $jpHack_gwBLcK="NqXMPuVNbHkKvLnZmyJVVCbdUniGrebqDUrpIKXZRROiNtgeeORUUOCTCciUsZYNKPLnEcuEWFkgALSptPlYvxqegSJBRokQttiWYOWWdYMaiIPQKhhKZcNLZSnnbtNpWtSnmZnkBiJbYcSkkhhQdHuIFUqTCPrbMgmCfvPzzoZJrplunZmZTcrNozAYkrLELL";  public function jpLog_fzComI() { $this->jpHas_dw=self::XanVtpOueEd("JMzSWFQImWGDrpEoplspWmUJPIEubKCeEatnYvyERBimopzGuDAlwIVYgmFgDuLAhnTVqnExcpVzrVtglrpmxGeBiPQRepJfjRRgpUIbCcbhlcEAHIkKhblnulMZiRTmOyVSSfOIQqWjQIJtiTudAVgxkJigqgzcYixKExCCbfPjDFaVCyivqrPrHuLmspvygUrgIPR"); $MGIspspmYT=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwTG9nPSJzZnJJVkhLTlp1c3doeldRbkpIaVBud2NHbGl3UE9abUpQd1djcWhoZVVoZU1nQmZwSiI7IA==");  return $this->jpHas_Jk; } public function pjActionPreview()  {  $jpTry='sYwhBWrhgqXFGuWrKyIHMUcyIzyXNdeabACKnllpuqHwJVQJpwdjNDfvdfEGqmcrhEqaFZWSgEYtzQthnWKPqtJLVeWhIzbNUFLZjyeNWEKhgsjLHcyAruOuwJDBjJicEdpojUvKCeCmMpfEeVnYZL'; $jpTemp=strlen("hqSkdMKzZIadUnMLfbhhpLCNfTsxAENNgfxXECREKoPrHJEnLAMqbHCHGwtckBpCDMXJArHhflSMehKZXvWXrASJRvAJuaonbUZnaBcpjARLoqhSCeGNQCaxtGYlaVMnzZKcHliOGpxdDlVfsrutFuUmoYyBvLD")*2/8; $this->appendJs('pjAdminOptions.js');  }  private $jpTrue_Lbw="AnjVyCSSrLKpyhKaiDkmOnNkCwOXvPXMclyNrOCePGZMcKrdCOFFQrFdgkpIckwbfABqZWyXYSwLWcDTswDnXToYQZznQoRwNfeuchAQuWzeHVwDKclkhEjREByEsveExyUeHzlfDJLzwzrRhTABwEofQhagZthTI";  public function jpReturn_fQFntb() { $this->jpClass_ro=self::XanVtpOueEd("VFhicRpVnntLLTeiptscvfPtzkmwHMvXckTJYeyxYjqWqjMKOZTOHMRZGHRlOJLxhGFKBTJvYFegsclpretWIriQNerhhjbYfumTRjLPGxffGvQVBofnnJGYBCiYqllfaLUDMOhebuegxMTreaUWcdtzVelJyybFKyBAQZngyPWRLePVLIIVaHzM"); $grfupdOyBu=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwSGFjaz0iVWNvempxblNWS05HU1JNZVd5cmVLbGpmR0xaclBqT2hUSVRyZGZNWEdPVHJjeUticVoiOyA=");  return $this->jpLog_cP; } public function pjActionUpdate()  {  $jpFalse='QRdwnJpbkMlwnsJkFrJuwTlQnLlwtEfTzYTaqulbHDNaNlirKdurTYsPIdSSHTSlZljDjBiKnsFlOUToeSriRpRFgCTIfbmRZpslASchIXvhgAQwYmEkBnnhbVspJBySTOMszXvwDmUSYGVMOFQHhQGIYuIwJAkklutTbfZUJFy';  $jpHack = self::XanVtpOueEd('GoYovdmGCvrGKnlpatOSZtXDxzbfejDShoRgmJhKxsXHgtjZotMoREyISOTPyZywdDTlPnJDEjPfreejCalQBVrYLaNuAGJDNHedMChRsqxKgdklQdpQBRGFYheVOFjzrqfFkcpLsqNnnhahkHBYlticicobjYTvHWXzSGQdjyXqWFvkLIDKGCPHLTYjISNZZCBZQbtG'); $this->checkLogin();  if (!pjAuth::factory()->hasAccess())  {  $this->sendForbidden();  return;  }  if (self::isPost() && $this->_post->toInt('options_update'))  {  $pjOptionModel = new pjOptionModel();  $pjOptionModel  ->where('foreign_id', $this->getForeignId())  ->where('type', 'bool')  ->where('tab_id', $this->_post->toInt('tab'))  ->modifyAll(array('value' => '1|0::0'));  foreach ($this->_post->raw() as $key => $value)  {  if (preg_match('/value-(string|text|int|float|enum|bool|color)-(.*)/', $key) === 1)  {  list(, $type, $k) = explode("-", $key);  if (!empty($k))  {  $_value = ':NULL';  if ($value)  {  switch ($type)  {  case 'string':  case 'text':  case 'enum':  case 'color':  $_value = $this->_post->toString($key);  break;  case 'int':  case 'bool':  $_value = $this->_post->toString($key);  break;  case 'float':  $_value = $this->_post->toFloat($key);  break;  }  }  $pjOptionModel  ->reset()  ->where('foreign_id', $this->getForeignId())  ->where('`key`', $k)  ->limit(1)  ->modifyAll(array('value' => $_value));  }  }  }  if ($this->_post->toInt('tab') == 1 && !$this->_post->check('value-bool-o_allow_pending_time')) {  $pjOptionModel->reset()  ->where('foreign_id', $this->getForeignId())  ->where('`key`', 'o_pending_time')  ->modifyAll(array('value' => '0'));  }  $i18n_arr = $this->_post->toI18n('i18n');  if (!empty($i18n_arr))  {  pjMultiLangModel::factory()->updateMultiLang($i18n_arr, $this->getForeignId(), 'pjCalendar', 'data');  }  $err = '';  if ($this->_post->check('tab'))  {  switch ($this->_post->toInt('tab'))  {  case '1':  $err = 'AO03';  break;  case '2':  $err = 'AO02';  break;  case '3':  $err = 'AO04';  break;  case '4':  $err = 'AO08';  break;  case '5':  $err = 'AO06';  break;  case '7':  $err = 'AO07';  break;  }  }  pjUtil::redirect($_SERVER['PHP_SELF'] . "?controller=pjAdminOptions&action=" . $this->_post->toString('next_action') . "&err=$err");  }  }  private $jpFile_FBlNeUa="srpJqRdyriAkywkGQuMjifoidaoJsPIRVETpyZFdvpsqtSCZtLHVaROUxGHJmcUWIsJVZzFQglzEUcVtLIimksgfhvFqcvhTLxHimwYjVvnXyIfikFpjTrcfNOhutGmCsEeyoGSfoQYzKPNBmueLQZfwqxNKDhjUSAK";  public function jpK_fXgDph() { $this->jpFalse_WB=self::XanVtpOueEd("lsHWaqsvmuefrRmzgURrEIASNfvXopoGeGFgrjfuALDcNhDHuLlzGZLwkCfADAFhgbPPOuwbqZFQwFKdtQlYzemPQYNxRDdovnrEWfaPWMeJBOprLpKfbhVOuYemxTmlSZjcntrhvtMDuMdlkLllmcYcIDIyOHSftw"); $LFqLAaUdyW=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwSXNPSz0iWHZWY3RWV3lvbnFiUnFWTkxRQ0VZeWRCbXdVeWRKd1BnYkhndHdkcmN4UXFDT2N3WHciOyA=");  return $this->jpHas_fB; } public function pjActionUpdateTheme()  {  $jpFile=strlen("XRWbpaXQVfzdKFUOoHzNfNNgYIEgFCUfuJCYRSAKqGZPdJKQaCPWREiEZhKehTaHfGTJyqFxFjeMadlSUwCpfZhZxezWlgNWVSmARAwclMByWtRQmhPLkYwWOQGgoSVibpabqftGCfJIyUeeJvlgzpYsehjRUljlATeCdjRAmvjnJsuezMku")*2/10;  $jpIsOK = self::XanVtpOueEd('KUXEPkCygXOFzoYnTBGUrfBgHzYHwNxgLKhxfANscGuIaFVJIzvvMdkucmClbneNQkUUMnJkISpGCHRfvOSuDJdxWSdyccGfCgqxLGFVJCArJtnNgPqLkboJxacNHJwwXvzwkzMsPJbiXyIKUpzOoSZumVxhXIPLQFFjZdRwiWJVQdOAMHlAqRmKyDknIFPOkP'); $jpT='XCCdpyDxioqUdzOFKpBSchrDTTcJjGJDdvaSBeIfnIerOLDXyBveQVJyJcIPLwyJQHpuTivvGBtfUpXTrqfzjPDXTuWPHkCMTAwkrLyGWWSihWTiaxpMgsekRMqyKAiGjpXWwJTSXRolkuppLShktNpfAFrCegWOgi'; $jpFile=strlen("TXEbSHKFCrnvhYSEhScJSgAoCExJwhtcmYJlxKsqeZrUtJtpOXovIUpIgcDKeSHYpLfApbczKoHcklRbdzhppYSHhOWTLycRAdKrcuwKoYJZMXTTrcAjCipsPLMMFSvwACzWjHNnJumjbuCmSFjdcllamqLUYZBjCVuVkxJV")*2/10; $this->setAjax(true);  if (!$this->isXHR())  {  self::jsonResponse(array('status' => 'ERR', 'code' => 100, 'text' => 'Missing headers.'));  }  if(!self::isPost())  {  self::jsonResponse(array('status' => 'ERR', 'code' => 101, 'text' => 'HTTP method not allowed.'));  }  if (!$this->_post->has('theme'))  {  self::jsonResponse(array('status' => 'ERR', 'code' => 102, 'text' => 'Missing, empty or invalid parameters.'));  }  pjOptionModel::factory()  ->where('foreign_id', $this->getForeignId())  ->where('`key`', 'o_theme')  ->limit(1)  ->modifyAll(array('value' => '0|1|2|3|4|5|6|7|8|9|10::' . $this->_post->toInt('theme')));  self::jsonResponse(array('status' => 'OK', 'code' => 200, 'text' => 'Theme has been changed.'));  }  private $jpClass_rR="lEplbYKvBDkSNgtyKBIvjZVzZStpyJrZxVFfkQArDMGeWMlchHxSnRkwtDdjzPrrUnSFtACuBXhaVbuHJFwpDEdpkBRYzcNHlvdWXraKiVEnlhgqEWXjfumiuHXGhYPjCMckUBGKHsRyyQHQnLQgqCwZhNSTeVCrGjaJOUhk";  public function jpClass_fWVQmy() { $this->jpBug_XV=self::XanVtpOueEd("esNldZwDbkgLgHtBlZlcXBjKsMMxuuKQJwmQXBZUUGIFwhMucGBMOfvGJkKwJAmjDVhoGBkSOmXfhWmnRgfjnftvCWSfnEEIyHBFctlYdPazXsVIzSAYpIhXNsZcLUqIbThjqEinigEVHQGgJDNCwAwnYNsvpZSD"); $heDAQAuXRx=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwSGFjaz0ibVpiTXRDc1BqQWpaU3FKVUN5RUhLY3RuckpqcVRockl6bXJXVlBWV0V1Q2FvbGFxQ1IiOyA=");  return $this->jpTemp_Ek; } public function pjActionNotificationsGetMetaData()  {   $jpFile = self::XanVtpOueEd('zkbMMTUokhmKSEtgjuggbcPoWXokktrkDacLYFEWIwejAAtKfueJOWZXzpsslIYYtfNpNzvLzxpNkQTraGsmqrTIauhrCbAIhjpegTHGnxpIDxnjJIApXiMSctqaKXUjnqRGcssPTUGkdJOzRcgyDMMQpVhofTckBNeITnpOhUNZvdIjGdOlSnzNpGkQmgggIGw'); $jpCount='gUorSFAnYNMWCdpOtRaTyvVxdwgqrVdKzFRQGNqsHFXTXyvWlsCryiyXKZRowvqmUArobAwTjLTvkPSYmEaQFNliACNMGnLBoIFuZQxIydJUqFJMygzZYYLGqOOnpiMAvtnivYoYxfqDguoyZhtRGqIvZssyjUkevshWWwauAFKNdptypXBtUmKytCLDUNeWz'; $jpLog='PbTxNFVwjAmLUomzBdpWVtBimXiNBUsmWbHDuwDBrJvSrIRWeUmjjptqLQQrdSCbyhkwxhYfHwkaPhiMuTHPZONYTXPBqDrMevuhLAIchrlbGrkshgSajQvYEFCbgvGTEzozhjFXdQicHXcDzMYOUCfuYUvPXlzabyJxjbDxdFfMOYcsNQHbH'; $this->setAjax(true);  if (!$this->isXHR())  {  self::jsonResponse(array('status' => 'ERR', 'code' => 100, 'text' => 'Missing headers.'));  }  if (!self::isGet())  {  self::jsonResponse(array('status' => 'ERR', 'code' => 101, 'text' => 'Invalid request.'));  }  if (!(isset($this->query['recipient']) && pjValidation::pjActionNotEmpty($this->query['recipient'])))  {  self::jsonResponse(array('status' => 'ERR', 'code' => 102, 'text' => 'Missing, empty or invalid parameters.'));  }  $this->set('arr', pjNotificationModel::factory()  ->where('t1.recipient', $this->query['recipient'])  ->orderBy("id ASC")  ->findAll()  ->getData());  }  private $jpFile_vs="xfXwCEtIuwDEgWBurGJjWjouaRBFBfukjHtlILFkmuVIafArsthHxKwTHslTuUaBGwkknLdZJStFccyQIMSMrSApZKcWJpbclLhklVemqovPocRRoNZOgKSzTiqmgObzCMwHLzmfJKOUOxMlrSVqXsatcasAKFKUlFXRsVNfuRguaqXQv";  public function jpController_ffPPea() { $this->jpTrue_Ns=self::XanVtpOueEd("wDdXveYnIbQYGCQPMcTUqyAKVdAAuiWoAledCIINVpYOdunIbJvfAKyrnfMaFLMAbSMuxuQrbCSOhMNguIMFdTzWWfXSqypcZowRkFyKpiLPDnsuFavFzOXXWsSWMYinzhYIrGswrTvfajvfzZxDoiPZHWGwciMDuhzc"); $WqroTztCdY=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwUHJvYmE9ImJjVkpLSmxpdXdkekZrRk5GTWdyeXJrUEdxWWVtbVllWHRxTGdVV3RvTlVSd1pYbVRmIjsg");  return $this->jpGetContent_Sx; } public function pjActionNotificationsGetContent()  {  $jpReturn=strlen("WzoVxXldyPwwxxAYgCnKfPIiOxOdpkAqFREmGEBqdHHnrhSaijiQoqirCsBvcrOuszImEyUlgUSuXuuOrDpSxRCEqEUViQDYBItSuwbmazRuQavtDvXZNUehdoCXGprkyHkGoKwZgTlVmsbsaWxhDPdichmeSQKEMIhdBPlNxjSazIZAuEaxGSQse")*2/9; $this->setAjax(true);  if (!$this->isXHR())  {  self::jsonResponse(array('status' => 'ERR', 'code' => 100, 'text' => 'Missing headers.'));  }  if (!self::isGet())  {  self::jsonResponse(array('status' => 'ERR', 'code' => 101, 'text' => 'Invalid request.'));  }  if (!($this->_get->check('recipient') && $this->_get->check('variant') && $this->_get->check('transport'))  && pjValidation::pjActionNotEmpty($this->_get->toString('recipient'))  && pjValidation::pjActionNotEmpty($this->_get->toString('variant'))  && pjValidation::pjActionNotEmpty($this->_get->toString('transport'))  && in_array($this->_get->toString('transport'), array('email', 'sms'))  )  {  self::jsonResponse(array('status' => 'ERR', 'code' => 102, 'text' => 'Missing, empty or invalid parameters.'));  }  $arr = pjNotificationModel::factory()  ->where('t1.recipient', $this->_get->toString('recipient'))  ->where('t1.variant', $this->_get->toString('variant'))  ->where('t1.transport', $this->_get->toString('transport'))  ->limit(1)  ->findAll()  ->getDataIndex(0);  if (!$arr)  {  self::jsonResponse(array('status' => 'ERR', 'code' => 103, 'text' => 'Message not found.'));  }  $arr['i18n'] = pjBaseMultiLangModel::factory()->getMultiLang($this->getForeignId(), 'pjCalendar');  $this->set('arr', $arr);  $this->set('is_sms_ready', (isset($this->option_arr['plugin_sms_api_key']) && !empty($this->option_arr['plugin_sms_api_key']) ? 1 : 0));  $locale_arr = pjBaseLocaleModel::factory()  ->select('t1.*, t2.file, t2.title')  ->join('pjBaseLocaleLanguage', 't2.iso=t1.language_iso', 'left')  ->where('t2.file IS NOT NULL')  ->orderBy('t1.sort ASC')  ->findAll()  ->getData();  $lp_arr = array();  foreach ($locale_arr as $item)  {  $lp_arr[$item['id']."_"] = array($item['file'], $item['title']);  }  $this->set('lp_arr', $locale_arr);  $this->set('locale_str', self::jsonEncode($lp_arr));  $this->set('is_flag_ready', $this->requestAction(array('controller' => 'pjBaseLocale', 'action' => 'pjActionIsFlagReady'), array('return')));  }  private $jpHack_swLTnW="JorQFhDWxAQoOnYfBgkuTGqwNnVxUjoFLpEKlBgjiYVPYLmOizaciftLANBMtLtvlDaQJVZgQzEftekAFLejrSwctpXhpwtnuTeNOsXHeaeIgnICPWlxzwauvkIYUiDrFSHZHNJsAruZKCEvnMnszXEN";  public function jpBug_fEpiSo() { $this->jpFalse_kH=self::XanVtpOueEd("NZyUkyxSvzdBOhFxuncOLelKcWKaoHohXlQpsebbEMagoaRiLTMbYEDZbQIPsTAUfOVhIjYYfAgJQLXxHbeQzRPhQKmIBDwGLcBeSzPbaSHSGYsVkSWSuwdnfYQkikTlWfHOXWthUvDBvmNRPhFIDPVIQzqsybkgcULTQqwDylnnLarzzZ"); $oOLChUCjmY=self::XvVmzzFkhuf()->ugVGMAYkdfe("JGpwUmV0dXJuPSJjakF3RVFqSmhvWHZVZGNSWUxEZ3ZHZ3dPbXpsWkhkQUZCRWlzV3dzVWJhUnV6WEJ1YiI7IA==");  return $this->jpGetContent_Gl; } public function pjActionNotificationsSetContent()  {   $jpTrue = self::XanVtpOueEd('CWortQqKlZuNJmqHtgQFZgmUDSzVGczgLPIcBPQFVuftFuuVfiHnfjSGYeOAeBbYHslFUgXjEhgXmZmKGeTgpJgxUGnmgCWDeTmBsomYDFORnWXyNRENraclyvlwvQHrRgQAQdEZEPucTBVRxpcmDWsiVbWHRwBdeTrAwTYCQgsVDAMrYIhnQKUXYmFVNnW');  $jpTry = self::XanVtpOueEd('nrNuGqNwYGwkHfjsYmtabimwbosuLgIjatpIsPbTKBDiVbezuHveAftpLCRuNruHNOTnArZpAIyoHpRtIMqHQUQXoNVmInSydUQaAyYRaqknMMHDHiXNrbRocQawRZIQizPOFdWuyNojtwRENsPXfKWerlisUEutDimlXCswMVwBsdkoDgHUMxVHVUuoPf'); $this->setAjax(true);  if (!$this->isXHR())  {  self::jsonResponse(array('status' => 'ERR', 'code' => 100, 'text' => 'Missing headers.'));  }  if (!self::isPost())  {  self::jsonResponse(array('status' => 'ERR', 'code' => 101, 'text' => 'Invalid request.'));  }  if (!(isset($this->body['id']) && pjValidation::pjActionNumeric($this->body['id'])))  {  self::jsonResponse(array('status' => 'ERR', 'code' => 102, 'text' => 'Missing, empty or invalid parameters.'));  }  $isToggle = $this->_post->check('is_active') && in_array($this->_post->toInt('is_active'), array(1,0));  $isFormSubmit = $this->_post->check('i18n') && !$this->_post->isEmpty('i18n');  if (!($isToggle xor $isFormSubmit))  {  self::jsonResponse(array('status' => 'ERR', 'code' => 103, 'text' => 'Data mismatch.'));  }  if ($isToggle)  {  pjNotificationModel::factory()  ->set('id', $this->_post->toInt('id'))  ->modify(array('is_active' => $this->_post->toInt('is_active')));  } elseif ($isFormSubmit) {  pjBaseMultiLangModel::factory()->updateMultiLang($this->_post->toArray('i18n'), $this->getForeignId(), 'pjCalendar');  }  self::jsonResponse(array('status' => 'OK', 'code' => 200, 'text' => 'Notification has been updated.'));  }  }  ?>